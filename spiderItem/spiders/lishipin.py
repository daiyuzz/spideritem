import randomimport requestsimport reimport timefrom lxml import etreefrom urllib.request import urlretrievedef download(url):        headers = {        'User-Agent':'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36',                'Accept-Encoding':'gzip, deflate, sdch',                'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',                'Accept-Language':'zh-CN,zh;q=0.8',        }        html = requests.get(url,headers=headers).text        #将文本文件处理成可解析的对象        # html = etree.HTML(html)        #正则匹配        req = 'srcUrl="(.*?)"'  #匹配所有        #真正视频播放地址  list        purl = re.findall(req,html)        #获取视频名称        req ='<h1 class="video-tt">(.*?)</h1>'        pname = re.findall(req,html)        if '"' or "'"in pname:            pname[0] = pname[0].replace('"' or "'",'”')        print('正在下载视频:%s'%pname[0])        #下载URL  下载的地址        try:            urlretrieve(purl[0],r'video/%s.mp4'%pname[0])            print('该视频下载完毕！')            pname =pname[0]+'.mp4'            return pname        except OSError as e:            print(e)            pname='自定义名称%s.mp4'%random.randint(1,999)            urlretrieve(purl[0],r'video/%s'%pname)            print('该视频下载完毕！')            return pnameif __name__ =="__main__":    url = input('请输入网址：')    download(url)